# Business API

Масштабируемое FastAPI приложение для управления пользователями, валютами и платежами.

## Структура проекта

```
business-api/
├── main.py                      # Точка входа приложения
├── requirements.txt             # Зависимости проекта
├── README.md                   # Этот файл
└── app/                        # Основной модуль приложения
    ├── __init__.py
    ├── core/                   # Ядро приложения
    │   ├── __init__.py
    │   └── app.py              # Фабрика приложения
    ├── models/                 # Pydantic модели
    │   ├── __init__.py
    │   ├── user.py             # Модели пользователей
    │   ├── currency.py         # Модели валют
    │   └── payment.py          # Модели платежей
    └── api/                    # API endpoints
        ├── __init__.py
        └── routes/             # Маршруты API
            ├── __init__.py
            ├── ping.py         # Health check
            ├── users.py        # Управление пользователями
            ├── currencies.py   # Управление валютами
            └── payments.py     # Управление платежами
```

## Установка

1. Склонируйте репозиторий или скачайте файлы
2. Создайте виртуальное окружение (рекомендуется):
   ```bash
   python -m venv venv
   source venv/bin/activate  # для Linux/Mac
   # или
   venv\Scripts\activate     # для Windows
   ```
3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

## Запуск приложения

### Способ 1: Через Python
```bash
python main.py
```

### Способ 2: Через Uvicorn
```bash
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

После запуска приложение будет доступно по адресу: `http://localhost:8000`

## API Endpoints

| Метод | Путь                      | Описание                           | Ответ              |
|-------|---------------------------|------------------------------------|--------------------|
| GET   | `/ping`                   | Проверка работоспособности        | `"pong"`           |
| GET   | `/users`                  | Получить список пользователей     | `List[User]`       |
| GET   | `/currencies`             | Получить список валют             | `List[Currency]`   |
| POST  | `/payments`               | Создать новый платеж              | `Payment`          |
| GET   | `/payments/{id}`          | Получить платеж по ID             | `PaymentResponse`  |

## Автоматическая документация

FastAPI автоматически генерирует интерактивную документацию:

- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

## Архитектурные принципы

- **Разделение ответственности**: Каждый модуль отвечает за свою область
- **Типизация**: Все данные описаны через Pydantic модели
- **Масштабируемость**: Легко добавлять новые endpoints и модели
- **Читаемость**: Минимальные комментарии на русском языке
- **Простота**: Максимально простые пути API без лишних префиксов

## Требования

- Python 3.7+
- FastAPI 0.104.1+
- Uvicorn 0.24.0+
- Pydantic 2.5.0+

## Разработка

Для разработки рекомендуется запускать с флагом `--reload`:

```bash
uvicorn main:app --reload
```

Это позволит автоматически перезагружать сервер при изменении кода.